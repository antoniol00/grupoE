<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" lang="es">

<h:head>
	<meta name="viewport"
		content="width=device-width,initial-scale=1,shrink-to-fit=no" />
	<link rel="stylesheet" type="text/css" href="resources/css/main.css" />
	<link rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
		integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I"
		crossorigin="anonymous" />

	<title>Alumnos</title>
</h:head>


<h:body>
	<header class="header-area header-sticky">
	<div class="container">
		<div class="row">
			<div class="col-12">
				<h:form>
					<nav class="main-nav"> <h:commandLink
						value="Universidad
						de Málaga" class="logo" action="index" />
					<ul class="nav">
						<li class="scroll-to-section"><h:commandLink value="Inicio"
								action="index" /></li>
						<li class="scroll-to-section"><h:commandLink
								value="Asignación de grupos" action="asignacion" /></li>
						<li class="submenu"><a href="javascript:;" class="active">Gesti&oacute;n
								de datos</a>
							<ul>
								<li><h:commandLink value="Alumnos" class="active"
										action="alumnos" /></li>
								<li><h:commandLink value="Asignaturas" action="asignaturas" /></li>
								<li><h:commandLink value="Matriculas" action="matriculas" /></li>
							</ul></li>
						<li class="scroll-to-section"><h:commandLink
								value="Peticiones" action="peticiones" /></li>
					</ul>
					</nav>
				</h:form>
			</div>
		</div>
	</div>
	</header>
	<div>
		<div class="welcome-area" id="text">
			<div class="uploadFile">
				<h:form enctype="multipart/form-data">
					<h:inputFile id="file-id" value="#{alumnosBean.part}"
						requiredMessage="Es necesario subir un archivo" alt="upload file"></h:inputFile>
					<h:commandButton value="Upload" action="#{alumnosBean.upload}"
						class="btn btn-primary" id="upload" />
				</h:form>
			</div>
			<div class="titulo">
				<h2>Listado de alumnos</h2>
			</div>

			<div class="scrolltabla">
				<h:dataTable value="#{alumnosBean.alumnos}" var="alum"
					styleClass="formatoTabla" headerClass="formatoHeader"
					rowClasses="formatoFilaImpar,formatoFilaPar">
					<h:column>
						<f:facet name="header">DNI</f:facet>
						<h:outputText id="dni" value="#{alum.dni}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Nombre</f:facet>
						<h:outputText id="nombre" value="#{alum.nombre_completo}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Email inst.</f:facet>
						<h:outputText id="email1" value="#{alum.email_institucional}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Telefono Movil</f:facet>
						<h:outputText id="telef_mov" value="#{alum.telefono_movil}"></h:outputText>
					</h:column>
				</h:dataTable>
			</div>
		</div>
	</div>

	<footer> Universidad de Málaga · Avda. Cervantes, 2. 29071
	MÁLAGA · Tel. 952131000 · info@uma.es </footer>
	<script>
		function findOffset(element) {
			var top = 0, left = 0;

			do {
				top += element.offsetTop || 0;
				left += element.offsetLeft || 0;
				element = element.offsetParent;
			} while (element);

			return {
				top : top,
				left : left
			};
		}

		window.onload = function() {
			var stickyHeader = document.getElementById('sticky');
			var headerOffset = findOffset(stickyHeader);

			window.onscroll = function() {
				// body.scrollTop is deprecated and no longer available on Firefox
				var bodyScrollTop = document.documentElement.scrollTop
						|| document.body.scrollTop;

				if (bodyScrollTop > headerOffset.top) {
					stickyHeader.classList.add('fixed');
				} else {
					stickyHeader.classList.remove('fixed');
				}
			};
		};
	</script>
</h:body>
</html>
